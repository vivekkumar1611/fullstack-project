name: Deploy Fullstack to EC2

on:
push:
branches:
- main

jobs:
deploy:
runs-on: ubuntu-latest

```
steps:
  # Checkout repository
  - name: Checkout code
    uses: actions/checkout@v3

  # Deploy to EC2 via SSH
  - name: Deploy application on EC2
    uses: appleboy/ssh-action@v0.1.7
    with:
      host: ${{ secrets.EC2_IP }}
      username: ubuntu
      key: ${{ secrets.EC2_KEY }}
      script: |
        cd ~/fullstack-project
        git pull origin main
        sudo docker-compose down || true
        sudo docker-compose up -d --build
```
